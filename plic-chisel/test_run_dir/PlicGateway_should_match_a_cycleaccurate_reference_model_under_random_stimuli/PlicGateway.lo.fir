FIRRTL version 1.2.0
circuit PlicGateway :
  module PlicGateway :
    input clock : Clock
    input reset : UInt<1>
    input io_rst_n : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]
    input io_src : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]
    input io_edge_lvl : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]
    output io_ip : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]
    input io_claim : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]
    input io_complete : UInt<1> @[src/main/scala/plic/PlicGateway.scala 17:14]

    node _asyncReset_T = eq(io_rst_n, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 19:21]
    node asyncReset = asAsyncReset(_asyncReset_T) @[src/main/scala/plic/PlicGateway.scala 19:32]
    reg src_dly : UInt<1>, clock with :
      reset => (asyncReset, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 22:21]
    reg src_edge : UInt<1>, clock with :
      reset => (asyncReset, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 23:21]
    reg pending_cnt : UInt<2>, clock with :
      reset => (asyncReset, UInt<2>("h0")) @[src/main/scala/plic/PlicGateway.scala 24:21]
    reg decr_pending : UInt<1>, clock with :
      reset => (asyncReset, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 25:21]
    reg ip_state : UInt<2>, clock with :
      reset => (asyncReset, UInt<2>("h0")) @[src/main/scala/plic/PlicGateway.scala 27:21]
    node _src_edge_T = eq(src_dly, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 35:25]
    node _src_edge_T_1 = and(io_src, _src_edge_T) @[src/main/scala/plic/PlicGateway.scala 35:22]
    node _T = eq(src_edge, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 38:24]
    node _T_1 = and(decr_pending, _T) @[src/main/scala/plic/PlicGateway.scala 38:21]
    node _T_2 = gt(pending_cnt, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 39:22]
    node _nxt_pending_cnt_T = sub(pending_cnt, UInt<1>("h1")) @[src/main/scala/plic/PlicGateway.scala 39:62]
    node _nxt_pending_cnt_T_1 = tail(_nxt_pending_cnt_T, 1) @[src/main/scala/plic/PlicGateway.scala 39:62]
    node _GEN_0 = mux(_T_2, _nxt_pending_cnt_T_1, pending_cnt) @[src/main/scala/plic/PlicGateway.scala 39:{29,47} 40:34]
    node _T_3 = eq(decr_pending, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 41:15]
    node _T_4 = and(_T_3, src_edge) @[src/main/scala/plic/PlicGateway.scala 41:29]
    node _T_5 = lt(pending_cnt, UInt<2>("h3")) @[src/main/scala/plic/PlicGateway.scala 42:22]
    node _nxt_pending_cnt_T_2 = add(pending_cnt, UInt<1>("h1")) @[src/main/scala/plic/PlicGateway.scala 42:76]
    node _nxt_pending_cnt_T_3 = tail(_nxt_pending_cnt_T_2, 1) @[src/main/scala/plic/PlicGateway.scala 42:76]
    node _GEN_1 = mux(_T_5, _nxt_pending_cnt_T_3, pending_cnt) @[src/main/scala/plic/PlicGateway.scala 42:{43,61} 43:34]
    node _GEN_2 = mux(_T_4, _GEN_1, pending_cnt) @[src/main/scala/plic/PlicGateway.scala 41:42 45:21]
    node _GEN_3 = mux(_T_1, _GEN_0, _GEN_2) @[src/main/scala/plic/PlicGateway.scala 38:35]
    node _T_6 = eq(io_edge_lvl, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 48:8]
    node nxt_pending_cnt = _GEN_3 @[src/main/scala/plic/PlicGateway.scala 31:29]
    node _GEN_4 = mux(_T_6, UInt<1>("h0"), nxt_pending_cnt) @[src/main/scala/plic/PlicGateway.scala 48:22 49:17 51:17]
    node _T_7 = eq(UInt<1>("h0"), ip_state) @[src/main/scala/plic/PlicGateway.scala 56:20]
    node _T_8 = neq(nxt_pending_cnt, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 58:45]
    node _T_9 = and(io_edge_lvl, _T_8) @[src/main/scala/plic/PlicGateway.scala 58:25]
    node _T_10 = eq(io_edge_lvl, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 58:59]
    node _T_11 = and(_T_10, io_src) @[src/main/scala/plic/PlicGateway.scala 58:72]
    node _T_12 = or(_T_9, _T_11) @[src/main/scala/plic/PlicGateway.scala 58:55]
    node _GEN_5 = mux(_T_12, UInt<1>("h1"), ip_state) @[src/main/scala/plic/PlicGateway.scala 58:84 59:18 27:21]
    node _GEN_6 = mux(_T_12, UInt<1>("h1"), UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 55:16 58:84 60:22]
    node _T_13 = eq(UInt<1>("h1"), ip_state) @[src/main/scala/plic/PlicGateway.scala 56:20]
    node _GEN_7 = mux(io_claim, UInt<2>("h2"), ip_state) @[src/main/scala/plic/PlicGateway.scala 27:21 64:{22,33}]
    node _T_14 = eq(UInt<2>("h2"), ip_state) @[src/main/scala/plic/PlicGateway.scala 56:20]
    node _GEN_8 = mux(io_complete, UInt<1>("h0"), ip_state) @[src/main/scala/plic/PlicGateway.scala 27:21 67:{25,36}]
    node _GEN_9 = mux(_T_14, _GEN_8, ip_state) @[src/main/scala/plic/PlicGateway.scala 56:20 27:21]
    node _GEN_10 = mux(_T_13, _GEN_7, _GEN_9) @[src/main/scala/plic/PlicGateway.scala 56:20]
    node _GEN_11 = mux(_T_7, _GEN_5, _GEN_10) @[src/main/scala/plic/PlicGateway.scala 56:20]
    node _GEN_12 = mux(_T_7, _GEN_6, UInt<1>("h0")) @[src/main/scala/plic/PlicGateway.scala 55:16 56:20]
    node _io_ip_T = eq(ip_state, UInt<1>("h1")) @[src/main/scala/plic/PlicGateway.scala 71:21]
    io_ip <= _io_ip_T @[src/main/scala/plic/PlicGateway.scala 71:9]
    src_dly <= io_src @[src/main/scala/plic/PlicGateway.scala 22:{21,21} 34:11]
    src_edge <= _src_edge_T_1 @[src/main/scala/plic/PlicGateway.scala 23:{21,21} 35:12]
    pending_cnt <= _GEN_4 @[src/main/scala/plic/PlicGateway.scala 24:{21,21}]
    decr_pending <= _GEN_12 @[src/main/scala/plic/PlicGateway.scala 25:{21,21}]
    ip_state <= _GEN_11 @[src/main/scala/plic/PlicGateway.scala 27:{21,21}]
